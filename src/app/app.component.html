<!-- <app-top-nav></app-top-nav> -->
<mat-sidenav-container class="nav-container">
  <mat-sidenav
    #sidenav
    mode="side"
    [(opened)]="opened"
    (opened)="events.push('open!')"
    (closed)="events.push('close!')"
  >
    <div class="sidebar-container">
      <div class="logo-section">
        <h2 class="brand">Sutr</h2>
        <span class="badge">Pro</span>
         <mat-icon
              aria-hidden="false"
              aria-label="Menu"
              *ngIf="opened && !isDesktop"
              class="menu-icon-close"
              fontIcon="close"
              (click)="sidenav.toggle()"
            ></mat-icon>
      </div>

      <div class="user-section">
        <div class="avatar">S</div>
        <div class="user-info">
          <span>Sergey Space</span>
          <!-- <mat-icon>keyboard_arrow_down</mat-icon> -->
        </div>
      </div>

      <mat-nav-list (click)="handleNavClick($event)">
        <a mat-list-item class="nav-item active" routerLink="">
          <mat-icon>dashboard</mat-icon>
          <span>Dashboard</span>
        </a>
        <!-- <a mat-list-item class="nav-item" routerLink="/generate-video">
          <mat-icon>movie</mat-icon>
          <span>Generate Template</span>
        </a> -->
        <a mat-list-item class="nav-item" routerLink="/my-stats">
          <mat-icon>folder</mat-icon>
          <span>My Stats</span>
        </a>
        <a mat-list-item class="nav-item" routerLink="/template">
          <mat-icon>layers</mat-icon>
          <span>Templates</span>
        </a>
        <a mat-list-item class="nav-item" routerLink="/ai-tools">
          <mat-icon>auto_awesome</mat-icon>
          <span>AI Tools</span>
        </a>
        <a mat-list-item class="nav-item" routerLink="/settings">
          <mat-icon>settings</mat-icon>
          <span>Settings</span>
        </a>
      </mat-nav-list>

      <div class="invite-box">
        <button mat-stroked-button color="secondary">
          <mat-icon>person_add</mat-icon>
          Invite new member
        </button>
      </div>

      <div class="footer-credit">
        <small>Made with <b>Visily</b></small>
        <p>
          <button matButton (click)="sidenav.toggle()">sidenav.toggle()</button>
        </p>
      </div>
    </div>

    <!-- sidebar -->
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-grid-list cols="12" rowHeight="100%" gutterSize="0px">
      <!-- 10% width (1 out of 10 columns) -->
      <mat-grid-tile
        *ngIf="!opened && isDesktop"
        [colspan]="1"
        style="background: lightblue"
      >
        <div class="sidebar">
          <p>
            <button matButton (click)="sidenav.toggle()">
              sidenav.toggle()
            </button>
          </p>
        </div>
      </mat-grid-tile>

      <!-- 90% width (9 out of 10 columns) -->
      <mat-grid-tile [colspan]="opened ? 12 : 11">
        <div class="content">
          <mat-toolbar color="primary" class="topbar">
            <mat-icon
              aria-hidden="false"
              aria-label="Menu"
              class="menu-icon"
              *ngIf="!opened && !isDesktop"
              fontIcon="toc"
              (click)="sidenav.toggle()"
            ></mat-icon>
            <span class="title">{{ this.selectedRoute }}</span>
            <ng-container *ngIf="isDesktop">
              <span class="spacer"></span>

              <mat-form-field appearance="outline" class="search-field">
                <mat-icon matPrefix>search</mat-icon>
                <input
                  matInput
                  placeholder="Search for projects, files, templates..."
                />
              </mat-form-field>

              <button mat-icon-button aria-label="Help">
                <mat-icon>help_outline</mat-icon>
              </button>

              <button mat-icon-button aria-label="Notifications">
                <mat-icon>notifications_none</mat-icon>
              </button>

              <button mat-icon-button class="avatar-button">
                <img
                  class="avatar"
                  src="https://i.pravatar.cc/300?img=3"
                  alt="User Avatar"
                />
              </button>
            </ng-container>
          </mat-toolbar>

          <!-- Scrollable router-outlet wrapper -->
          <div class="router-scroll-wrapper">
            <router-outlet></router-outlet>
          </div>
        </div>
      </mat-grid-tile>
    </mat-grid-list>
    <!-- 
    <mat-grid-list cols="2" rowHeight="1:1">
      <mat-grid-tile> </mat-grid-tile>
      <mat-grid-tile> </mat-grid-tile>
    </mat-grid-list> -->

    <!-- <p><mat-checkbox [(ngModel)]="opened">sidenav.opened</mat-checkbox></p> -->
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- 
<mat-toolbar color="primary" class="footer">
  <span>Â© 2025 Link in Bio</span>
</mat-toolbar> -->
